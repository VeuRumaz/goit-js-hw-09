{"version":3,"file":"commonHelpers2.js","sources":["../src/js/2-form.js"],"sourcesContent":["'use strict';\nimport validator from 'validator';\n\nconst STORAGE_KEY = 'feedback-form-state';\n\nconst form = document.querySelector('.feedback-form');\n\nform.addEventListener('input', () => {\n  const formData = new FormData(form);\n  const email = formData.get('email').trim();\n  const message = formData.get('message').trim();\n  const data = { email, message };\n  saveToLS('userInfo', data);\n});\n\nwindow.addEventListener('DOMContentLoaded', () => {\n  const data = loadFromLS('userInfo');\n  if (data) {\n    form.elements.email.value = data.email || '';\n    form.elements.message.value = data.message || '';\n  }\n});\n\nform.addEventListener('submit', e => {\n  e.preventDefault();\n\n  const formData = new FormData(form);\n  const email = formData.get('email').trim();\n  const message = formData.get('message').trim();\n  const data = { email, message };\n\n  if (email === '' || message === '') {\n    alert('Fill please all fields');\n    return;\n  }\n\n  if (!validator.isEmail(email)) {\n    alert('Please enter a valid email address');\n    return;\n  }\n\n  console.log(data);\n  localStorage.removeItem('userInfo');\n  form.reset();\n});\n\nfunction saveToLS(key, value) {\n  const jsonData = JSON.stringify(value);\n  localStorage.setItem(key, jsonData);\n}\n\nfunction loadFromLS(key) {\n  const json = localStorage.getItem(key);\n  try {\n    return JSON.parse(json);\n  } catch {\n    return null;\n  }\n}\n"],"names":["form","formData","email","message","saveToLS","data","loadFromLS","validator","key","value","jsonData","json"],"mappings":"oGAKA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAEpDA,EAAK,iBAAiB,QAAS,IAAM,CACnC,MAAMC,EAAW,IAAI,SAASD,CAAI,EAC5BE,EAAQD,EAAS,IAAI,OAAO,EAAE,KAAI,EAClCE,EAAUF,EAAS,IAAI,SAAS,EAAE,KAAI,EAE5CG,EAAS,WADI,CAAE,MAAAF,EAAO,QAAAC,EACG,CAC3B,CAAC,EAED,OAAO,iBAAiB,mBAAoB,IAAM,CAChD,MAAME,EAAOC,EAAW,UAAU,EAC9BD,IACFL,EAAK,SAAS,MAAM,MAAQK,EAAK,OAAS,GAC1CL,EAAK,SAAS,QAAQ,MAAQK,EAAK,SAAW,GAElD,CAAC,EAEDL,EAAK,iBAAiB,SAAU,GAAK,CACnC,EAAE,eAAc,EAEhB,MAAMC,EAAW,IAAI,SAASD,CAAI,EAC5BE,EAAQD,EAAS,IAAI,OAAO,EAAE,KAAI,EAClCE,EAAUF,EAAS,IAAI,SAAS,EAAE,KAAI,EACtCI,EAAO,CAAE,MAAAH,EAAO,QAAAC,GAEtB,GAAID,IAAU,IAAMC,IAAY,GAAI,CAClC,MAAM,wBAAwB,EAC9B,MACD,CAED,GAAI,CAACI,EAAU,QAAQL,CAAK,EAAG,CAC7B,MAAM,oCAAoC,EAC1C,MACD,CAED,QAAQ,IAAIG,CAAI,EAChB,aAAa,WAAW,UAAU,EAClCL,EAAK,MAAK,CACZ,CAAC,EAED,SAASI,EAASI,EAAKC,EAAO,CAC5B,MAAMC,EAAW,KAAK,UAAUD,CAAK,EACrC,aAAa,QAAQD,EAAKE,CAAQ,CACpC,CAEA,SAASJ,EAAWE,EAAK,CACvB,MAAMG,EAAO,aAAa,QAAQH,CAAG,EACrC,GAAI,CACF,OAAO,KAAK,MAAMG,CAAI,CAC1B,MAAU,CACN,OAAO,IACR,CACH"}